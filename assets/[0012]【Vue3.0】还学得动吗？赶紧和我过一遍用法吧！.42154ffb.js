export default"## å†™åœ¨å‰é¢\n**2020.4.20** æ›´æ–°ï¼šç›®å‰`Vue3.0` å·²ç»å‡ºäº `Beta` æµ‹è¯•é˜¶æ®µï¼Œå³å¯ä»¥å¯¹å¼€å‘è€…å¼€æ”¾ä½¿ç”¨äº†ï¼Œå®˜æ–¹å·¥å…·é“¾å¦‚`vue-router` ã€ `vuex` ç­‰ä»å¤„äº `Alpha` é˜¶æ®µï¼Œè·ç¦»æ­£å¼å‘å¸ƒè¿˜æœ‰ä¸€æ®µæ—¶é—´ã€‚\næœ¬ç¯‡æ–‡ç« å‘å¸ƒäº**2020.01.14**ï¼Œå¦‚æœåç»­æ›´æ–°/å‘å¸ƒçš„è¯ï¼Œä¼šè€ƒè™‘æ›´æ–°è¿™ç¯‡æ–‡ç« çš„å†…å®¹ã€‚\n## é˜…è¯»ä¾èµ–\næœ¬ç¯‡æ–‡ç« é»˜è®¤è¯»è€…å·²ç»äº†è§£ä»¥ä¸‹çŸ¥è¯†ï¼Œæ²¡æœ‰æŒæ¡çš„è¯·å»è¡¥è¯¾~\n- Vue2.xçš„ç”¨æ³•\n- npmçš„å®‰è£…ä¸æ„å»ºï¼Œnpxå±€éƒ¨å®‰è£…æ›¿ä»£å…¨å±€å®‰è£…æ–¹æ³•ï¼ˆäº†è§£æœ€å¥½ï¼Œéå¿…é¡»ï¼‰\n- gitç›¸å…³æ“ä½œ\n- `react hooks`ç›¸å…³çŸ¥è¯†ï¼ˆäº†è§£æœ€å¥½ï¼Œéå¿…é¡»ï¼‰\n## Vue3.0ä»‹ç»\nå…¶ä»–æ–‡ç« å·²ç»è¯´å¾—å·®ä¸å¤šäº†ï¼Œå‡ ä¸ªæ ¸å¿ƒç‚¹å°±æ˜¯Proxy/å‡½æ•°å¼API/TSæ”¯æŒä»¥åŠæ¨¡æ¿ç¼–è¯‘ä¼˜åŒ–ï¼Œä¸å†èµ˜è¿°ï¼Œæƒ³çœ‹æºç çš„å»githubæ‹‰ä»£ç å³å¯ï¼š\n[https://github.com/vuejs/vue-next](https://github.com/vuejs/vue-next)\n## å¿«é€Ÿå¼€å§‹\n### ä½¿ç”¨ @vue/cli æ„å»º\néœ€è¦ vue-cli ç‰ˆæœ¬å¤§äº 3.x ï¼Œå¦‚æœæ˜¯2.xç‰ˆæœ¬ï¼Œå¾—å…ˆå‡çº§ä¾èµ–ã€‚\nçš„è¿™é‡Œåªä»‹ç»å…¨å±€å®‰è£…æ–¹æ³•ï¼š\n```\nnpm i -g @vue/cli\n```\n```\nvue create my-vue3-app\n```\næ³¨æ„ï¼šç›®å‰**ä¸å»ºè®®é€‰æ‹© Typescript é¢„è®¾**ï¼Œå› ä¸º vuex vue-router ç­‰å·¥å…·å°šæœªå®Œå…¨æ”¯æŒï¼ˆå½“ç„¶ç²¾åŠ›æ—ºç››çš„å¯ä»¥è‡ªå·±å®ç°ï¼‰ã€‚\né¡¹ç›®åˆå§‹åŒ–å®Œæ¯•ï¼Œè¿›å…¥ `my-vue3-app` ç›®å½•ï¼Œæ‰§è¡Œ  `vue-next` å®‰è£…å‘½ä»¤ï¼š\n```\nvue add vue-next\n```\nè¿™ä¸ªå‘½ä»¤å¯ä»¥è‡ªåŠ¨è¿è¡Œå®‰è£…è„šæœ¬ï¼Œå°†ä½ å½“å‰ vue é¡¹ç›®å‡çº§ä¸º vue 3.0 é¡¹ç›®ï¼š\n```powershell\nğŸ“¦  Installing vue-cli-plugin-vue-next...\n\nyarn add v1.22.4\n[1/4] Resolving packages...\n[2/4] Fetching packages...\n\nsuccess Saved 1 new dependency.\ninfo Direct dependencies\nâ””â”€ vue-cli-plugin-vue-next@0.1.2\ninfo All dependencies\nâ””â”€ vue-cli-plugin-vue-next@0.1.2\nDone in 24.71s.\nâœ”  Successfully installed plugin: vue-cli-plugin-vue-next\n\n\nğŸš€  Invoking generator for vue-cli-plugin-vue-next...\nâš“  Running completion hooks...\n\nâœ”  Successfully invoked generator for plugin: vue-cli-plugin-vue-next\n vue-next  Installed vuex 4.0.\n vue-next  Documentation available at https://github.com/vuejs/vuex/tree/4.0\n vue-next  Installed vue-router 4.0.\n vue-next  Documentation available at https://github.com/vuejs/vue-router-next\n vue-next  Installed @vue/test-utils 2.0.\n vue-next  Documentation available at https://github.com/vuejs/vue-test-utils-next\n```\nhappy coding.\n\n### ä»æºç æ„å»º\né¦–å…ˆæŠŠä»£ç æ‹‰åˆ°æœ¬åœ°ï¼ˆé»˜è®¤ä½¿ç”¨masteråˆ†æ”¯å³å¯ï¼‰ï¼Œåœ¨æ ¹ç›®å½•ä¸‹æ‰§è¡Œ`npm install && npm run build`ï¼Œ å°±èƒ½åœ¨`/packages/vue/dist`ä¸‹å¾—åˆ°æ‰“åŒ…åçš„æ–‡ä»¶ï¼š\n```shell\nvue.cjs.js\nvue.esm-bundler.j s\nvue.esm.prod.js\nvue.global.prod.js\nvue.cjs.prod.js\nvue.esm.js\nvue.global.js\nvue.runtime.esm-bundler.js\n```\n### æµè§ˆå™¨å¼•å…¥ä½¿ç”¨\nå¦‚æœåœ¨çº¯æµè§ˆå™¨ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬é€‰ç”¨ä¸Šé¢çš„`vue.global.js`ä½œä¸ºä¾èµ–ï¼Œå› ä¸ºå®ƒåŒ…å«äº†å¼€å‘æç¤ºä»¥åŠtemplateç¼–è¯‘å™¨ã€‚ç›´æ¥æ¥ä¸€æ®µå°demoï¼š\n```\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <title>Vue3.0 sample</title>\n  \x3c!--  åœ¨æµè§ˆå™¨ä¸‹templateå¯ä»¥è¿™ä¹ˆå†™äº†  --\x3e\n  <script type=\"text/x-template\" id=\"greeting\">\n    <h3>{{ message }}</h3>\n  <\/script>\n  <script src=\"vue.global.js\"><\/script>\n</head>\n<body>\n  <div id=\"app\"></div>\n  <script type=\"text/javascript\">\n    const { createApp } = Vue;\n    const myApp = {\n      template: '#greeting',\n      data() {\n        return {\n          message: 'Hello Vue3.0'\n        }\n      }\n    }\n    createApp(myApp).mount('#app')\n  <\/script>\n</body>\n</html>\n```\næµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œä½ å°†çœ‹åˆ°å¦‚ä¸‹æ–‡å­—ï¼š\n> ### Hello Vue3.0\nå¯ä»¥çœ‹åˆ°ï¼š`new Vue`å˜æˆäº†`createApp`ï¼Œä¸å†æ¥å—`option`å‚æ•°ï¼Œè€Œæ˜¯æ¬åˆ°äº†`mount`æ–¹æ³•ä¸­ã€‚æˆ‘ä»¬çš„templateå­—ç¬¦ä¸²ï¼Œç°åœ¨å¯ä»¥ä½¿ç”¨`text/x-template`çš„è„šæœ¬æ ¼å¼å¼•å…¥ï¼Œè‡³äºå…¶ä»–çš„ç”¨æ³•ï¼Œ**åŸºæœ¬**å’Œ2.0ä¸€æ¨¡ä¸€æ ·\nå¦å¤–ï¼Œæºç ä»“åº“ä¸­ [/packages/vue/examples](https://github.com/vuejs/vue-next/tree/master/packages/vue/examples)ç›®å½•ä¸‹ï¼Œæä¾›äº†å‡ ä¸ªå®˜æ–¹ç¤ºä¾‹ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å»å‚é˜…\n\n## ä½¿ç”¨webpackæ„å»º3.0çš„sfc\nä»”ç»†è¯»è¯»ä»“åº“ä¸­çš„`readme.md`ï¼Œæˆ‘ä»¬å‘ç°å°¤å¤§å·²ç»å¾ˆè´´å¿ƒåœ°ä¸ºæˆ‘ä»¬åšäº†ä¸€ä¸ªwebpackæ„å»ºé¡¹ç›®çš„æœ€å°å®è·µ: [https://github.com/vuejs/vue-next-webpack-preview](https://github.com/vuejs/vue-next-webpack-preview)\nåŒæ ·çš„æ“ä½œï¼šæ‹‰ä»£ç ->æ„å»º->è¿è¡Œåï¼Œçœ‹åˆ°çš„æ˜¯ä¸€ä¸ªç‚¹å‡»è®¡æ•°å™¨çš„åŸºæœ¬ç”¨æ³•ï¼š\n```\n<template>\n  <img src=\"./logo.png\">\n  <h1>Hello Vue 3!</h1>\n  <button @click=\"inc\">Clicked {{ count }} times.</button>\n</template>\n\n<script type=\"text/javascript\">\nimport { ref } from 'vue'\nexport default {\n  setup() {\n    const count = ref(0); // å“åº”å¼æ•°æ®\n    // äº‹ä»¶å›è°ƒä¸éœ€è¦ä»»ä½•å¤„ç†ï¼Œç›´æ¥ä½œä¸ºå¯¹è±¡æ–¹æ³•è¿”å›å³å¯ï¼›\n    const inc = () => {\n      count.value++\n    }\n    return {\n      count,\n      inc\n    }\n  }\n}\n<\/script>\n```\nä¸2.0ä¸åŒäº†ï¼Œè¿™ä¸ª`setup`æ–¹æ³•å°±æ˜¯3.0çš„æ–°APIï¼Œå®šä¹‰äº†ä¸€ä¸ªå“åº”å¼å±æ€§`count`å’Œæ–¹æ³•`inc`ï¼Œå°†ä»–ä»¬ä½œä¸ºå¯¹è±¡è¿”å›ï¼Œå°±èƒ½åœ¨`template`ä¸­ä½¿ç”¨ã€‚å…¶ä¸­ï¼Œ`ref`æ˜¯å¯¹ä¸€ä¸ª`åŸå§‹å€¼`æ·»åŠ å“åº”å¼ï¼ˆè£…ç®±ï¼‰ï¼Œé€šè¿‡`.value`è·å–å’Œä¿®æ”¹ï¼ˆæ‹†ç®±ï¼‰ï¼Œå¯¹åº”2.0ä¸­çš„`data`ï¼Œå¦‚æœéœ€è¦å¯¹ä¸€ä¸ªå¯¹è±¡/æ•°ç»„æ·»åŠ å“åº”å¼ï¼Œåˆ™éœ€è¦è°ƒç”¨`reactive()`æ–¹æ³•\n```\nimport { reactive } from 'vue'\nexport default {\n  setup() {\n    return {\n      foo: reactive({ a: 1, b: 2 })\n    }\n  }\n}\n```\n## æ‹“å±•å®è·µ\nä¸ºäº†æ›´è¿›ä¸€æ­¥ç†è§£setupï¼Œæˆ‘ä»¬æ”¹é€ ä¸€ä¸‹ç‚¹å‡»è®¡æ•°å™¨â€”â€”é”®ç›˜è®¡æ•°å™¨ã€‚\nè¦å®ç°çš„ç›®æ ‡å’Œæ€è·¯ä¸ºï¼š\n- å°†è®¡æ•°å™¨å˜æˆä¸€ä¸ªç»„ä»¶ï¼Œç”±å¤–éƒ¨æ§åˆ¶å¼€å¯/å…³é—­ï¼š `component`ã€`ref`å’Œ`v-if`çš„ä½¿ç”¨\n- è®¡æ•°å™¨ç›‘å¬æŸä¸ªé”®ç›˜æŒ‰é”®ï¼ŒæŒ‰é”®åç§°ç”±çˆ¶ç»„ä»¶ä½œä¸ºpropsä¼ å…¥(å¦‚Enterï¼ŒSpaceç­‰)ï¼š `setup(props)`è·å–\n- ç»„ä»¶æ¸²æŸ“(`onMounted`)åå¼€å§‹ç›‘å¬ï¼Œç»„ä»¶æ‹†å¸ï¼ˆ`onUnmounted`ï¼‰åå–æ¶ˆç›‘å¬ï¼š`ç”Ÿå‘½å‘¨æœŸé’©å­`åœ¨3.0ä¸­çš„ç”¨æ³•\n- æ·»åŠ `is-odd`æ–‡æœ¬ï¼Œè¡¨ç¤ºæŒ‰é”®æ¬¡æ•°æ˜¯å¦ä¸ºå¥‡æ•°ï¼š`computed`vue3.0ä¸­çš„ç”¨æ³•\n- æŒ‰é”®æ¬¡æ•°ä¸º5çš„å€æ•°ï¼ˆ0é™¤å¤–ï¼‰æ—¶ï¼Œå¼¹å‡ºalertçª—å£ï¼š`watch`åœ¨vue3.0ä¸­çš„ç”¨æ³•\n\n#### Talk is cheap, show me the code\né¦–å…ˆæ˜¯æ”¹é€ `App.vue`çˆ¶ç»„ä»¶å¯¼å…¥`key-press-enter`å­ç»„ä»¶ï¼Œæ³¨æ„çœ‹`template`æœ‰ä½•å˜åŒ–\n```\n<template>\n    \x3c!--  è®¾ç½®checkboxæ§åˆ¶ç»„ä»¶å¼€å…³  --\x3e\n    <input id=\"key-counter\" type=\"checkbox\" v-model=\"enableKeyPressCounter\">\n    <label for=\"key-counter\">check to enable keypress counter</label>\n    <key-press-counter v-if=\"enableKeyPressCounter\" key-name=\"Enter\" />\n</template>\n\n<script type=\"text/javascript\">\n  import { ref } from 'vue'\n  import KeyPressCounter from './KeyPressCounter.vue';\n\n  export default {\n    components: {\n      KeyPressCounter // ç»„ä»¶ç”¨æ³•å’ŒåŸæ¥ä¸€è‡´\n    },\n    setup() {\n      return {\n        enableKeyPressCounter: ref(false), // æ˜¯å¦å¼€å¯ç»„ä»¶\n      }\n    }\n  }\n<\/script>\n\n```\nå¯ä»¥å‘ç°ï¼š`template`ç°åœ¨å¯ä»¥åƒjsxä¸€æ ·ä½œä¸ºç¢ç‰‡å¼•å…¥ï¼Œä¸éœ€è¦æ·»åŠ æ ¹å…ƒç´ äº†ï¼ˆå½“ç„¶#appæ ¹å®¹å™¨è¿˜æ˜¯éœ€è¦çš„ï¼‰\næ¥ç€æ˜¯å­ç»„ä»¶`KeyPressCounter.vue`ï¼š \n```\n<script>\n <template>\n  <h3>Listening keypress: {{ keyName }}</h3>\n  <p>Press {{ pressCount }} times!</p>\n  <p>Is odd times: {{ isOdd }}</p>\n</template>\n\n<script type=\"text/javascript\">\n  import { onMounted, onUnmounted, ref, effect, computed } from 'vue';\n\n  /**\n   * åˆ›å»ºä¸€ä¸ªé”®ç›˜æŒ‰é”®ç›‘å¬é’©å­\n   * @param keyName æŒ‰é”®åç§°\n   * @param callback ç›‘å¬å›è°ƒ\n   */\n  const useKeyboardListener = (keyName, callback) => {\n    const listener = (e) =>{\n      console.log(`ä½ æŒ‰ä¸‹äº†${e.key}é”®`) // ç”¨æ¥éªŒè¯ç›‘å¬æ—¶é—´æ˜¯å¦å¼€å¯/å…³é—­\n      if (e.key !== keyName) {\n        return;\n      }\n      callback()\n    }\n    // å½“ç»„ä»¶æ¸²æŸ“æ—¶ç›‘å¬\n    onMounted(()=>{\n      document.addEventListener('keydown', listener)\n    })\n    // å½“ç»„ä»¶æ‹†è§£æ—¶ç›‘å¬\n    onUnmounted(()=>{\n      document.removeEventListener('keydown', listener)\n    })\n  }\n\n  export default {\n    name: \"EnterCounter\",\n    /**\n     * @param props çˆ¶ç»„ä»¶ä¼ å…¥çš„props\n     * @return { Object } è¿”å›çš„å¯¹è±¡å¯ä»¥åœ¨templateä¸­å¼•ç”¨\n     */\n    setup(props) {\n      const { keyName } = props\n      const pressCount = ref(0)\n      // hooksè°ƒç”¨\n      useKeyboardListener(keyName, ()=>{\n        pressCount.value += 1;\n      })\n      // watchçš„ç”¨æ³•ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œç°åœ¨æ— éœ€å£°æ˜å­—æ®µæˆ–è€…sourceï¼Œvueè‡ªåŠ¨è¿½è¸ªä¾èµ–\n      effect(()=>{\n        if (pressCount.value && pressCount.value % 5 === 0) {\n          alert(`you have press ${pressCount.value} times!`)\n        }\n      })\n      // computedçš„ç”¨æ³•ï¼ŒåŸºæœ¬æ˜¯åŸæ¥çš„é…æ–¹\n      const isOdd = computed(()=> pressCount.value % 2 === 1)\n\n      return {\n        keyName,\n        pressCount,\n        isOdd\n      }\n    }\n  }\n<\/script>\n```\nä»¥åç¼–å†™ç»„ä»¶å°±æ˜¯setupä¸€æŠŠæ¢­äº†ï¼æ˜¯ä¸æ˜¯è¶Šæ¥è¶Šåƒ`react hooks`äº†?\nå¯¹æ¯”ä¸€ä¸‹ä¼ ç»Ÿå†™æ³•ï¼š\n```\n<template>\n  <div>\n    <h3>Listening keypress: {{ keyName }}</h3>\n    <p>Press {{ pressCount }} times!</p>\n    <p>Is odd times: {{ isOdd }}</p>\n  </div>\n</template>\n\n<script type=\"text/javascript\">\n  let listener\n\n  export default {\n    name: \"EnterCounter\",\n    props: {\n      keyName: String\n    },\n    computed: {\n      isOdd() {\n        return this.pressCount % 2 === 1;\n      }\n    },\n    data() {\n      return {\n        pressCount: 0\n      }\n    },\n    mounted() {\n      listener = (e) =>{\n        if (e.key !== this.keyName) {\n          return;\n        }\n        this.callback()\n      }\n      document.addEventListener('keydown', listener)\n    },\n    beforeUnmount() {\n      document.removeEventListener('keydown', listener)\n    },\n    watch: {\n      pressCount(newVal) {\n        if (newVal && newVal % 5 === 0) {\n          alert(`you have press ${newVal} times!`)\n        }\n      }\n    },\n    methods: {\n      callback() {\n        this.pressCount += 1;\n      }\n    }\n  }\n<\/script>\n\n```\nå½“ç„¶ï¼Œå£°æ˜å¼vså‡½æ•°å¼ï¼Œä¸èƒ½è¯´å“ªä¸ªä¸€å®šæ¯”å¦å¤–ä¸€ä¸ªå¥½ã€‚å°¤å¤§ä¾ç„¶ä¸ºæˆ‘ä»¬ä¿æŒäº†ä¼ ç»Ÿapiï¼Œè¿™ä¹Ÿæ„å‘³ç€ä»2.0è¿ç§»åˆ°3.0ï¼Œä»˜å‡ºçš„æˆæœ¬æ˜¯éå¸¸å¹³æ»‘çš„ã€‚\n\n## ä½¿ç”¨ Vuex hooks\n\n#### åˆå§‹åŒ–\né¦–å…ˆå®šä¹‰å…¨å±€çš„ Store :\n```\nimport { createStore } from 'vuex';\n\nexport default createStore({\n  state: {\n    username: 'Xiaoming',\n  },\n  modules: {\n    foo: {\n      namespaced: true,\n      state: {\n        bar: 'baz',\n      },\n      modules: {\n        nested: {\n          namespaced: true,\n          state: {\n            final: 'you\\'ve done',\n          },\n        },\n      },\n    },\n  },\n});\n```\n\næ¥ç€åœ¨ç»„ä»¶æ ¹å®ä¾‹ä¸­æ³¨å…¥\n```\nimport { createAPP } from 'vue'\nimport Store from './store'\nimport APP from './views/App.vue'\n\ncreateApp(APP)\n  .use(Store) // ä»¥æ’ä»¶å®‰è£…å½¢å¼æ³¨å…¥\n  .mount('#app')\n```\n#### å¦‚ä½•åœ¨setupä¸­å¼•ç”¨\nç›®å‰ vuex çš„è¾…åŠ©å‡½æ•° `mapState` ã€`mapGetter` ã€ `mapMutation` ã€ `mapAction`ï¼Œéœ€è¦ç»‘å®šç»„ä»¶å®ä¾‹ä¸Šä¸‹æ–‡ï¼Œè€Œ setup å‡½æ•°ä¸­æ— æ³•è®¿é—®ç»„ä»¶å®ä¾‹ï¼Œæ‰€ä»¥è¿™äº›è¾…åŠ©å‡½æ•°åœ¨ setup ä¸­åº”è¯¥ç”¨ä¸ä¸Šäº†ï¼Œå–è€Œä»£ä¹‹çš„åº”è¯¥æ˜¯ `useState` ã€`useGetter` ã€ `useMutation` ã€ `useAction` ï¼Œç›®å‰å®˜æ–¹å°šæœªå®ç°ã€‚è¿™é‡Œ**æ ¹æ® vuex æºç **å†™ä¸€ä¸ªå…¼å®¹3.0çš„ `useState` ï¼ŒæŠ›ç –å¼•ç‰ï¼ˆä»£ç æœ‰ç‚¹é•¿ï¼Œå¯ä»¥è·³ç€çœ‹ï¼‰ï¼š\n```\nimport { computed } from 'vue';\nimport { useStore } from 'vuex';\n\nconst normalizeNamespace = (fn) => (namespace, map) => {\n  let appliedMap = map;\n  let appliedNamespace = namespace;\n  if (typeof appliedNamespace !== 'string') {\n    appliedMap = namespace;\n    appliedNamespace = '';\n  } else if (namespace.charAt(appliedNamespace.length - 1) !== '/') {\n    appliedNamespace += '/';\n  }\n  return fn(appliedNamespace, appliedMap);\n};\n\nconst normalizeMap = (map) => (Array.isArray(map)\n  ? map.map((item) => ({ key: item, val: item }))\n  : Object.entries(map).map(([key, val]) => ({ key, val })));\n\nexport const useState = normalizeNamespace((namespace, states) => {\n  const res = {};\n  // å°†æºç ä¸­å¼•ç”¨çš„ this.$store æ›¿æ¢æˆå…¨å±€store\n  const store = useStore();\n  normalizeMap(states).forEach(({ key, val }) => {\n    res[key] = (computed(() => {\n      let { state, getters } = store;\n      if (namespace) {\n        // eslint-disable-next-line no-underscore-dangle\n        const module = store._modulesNamespaceMap[namespace];\n        if (!module) {\n          return;\n        }\n        state = module.context.state;\n        getters = module.context.getters;\n      }\n      // eslint-disable-next-line consistent-return\n      return typeof val === 'function'\n        ? val.call(store, state, getters)\n        : state[val];\n    }));\n    // mark vuex getter for devtools\n    res[key].vuex = true;\n  });\n  return res;\n}, true);\n```\nç¼–å†™å®Œæ¯•ï¼Œåœ¨å®é™…ç»„ä»¶ä¸­ä½¿ç”¨ï¼š\n```\n<template>\n  <header>\n    <h5>\n      Hello {{ username }} | {{ bar }} | {{ final }}\n    </h5>\n  </header>\n</template>\n\n<script>\nimport { useState } from '../store/hooks';\n\nexport default {\n  name: 'Header',\n  setup() {\n    const { username } = useState(['username']);\n    const { bar } = useState('foo', ['bar']);\n    const { final } = useState('foo/nested', ['final']);\n    return {\n      username,\n      bar,\n      final,\n    };\n  },\n};\n<\/script>\n```\nè¾“å‡ºç»“æœï¼š\n> ##### Hello Xiaoming | baz | you've done\n\n## æ€»ç»“\n- templateæ”¯æŒç¢ç‰‡ï¼Œå³é™¤æ ¹ç»„ä»¶å¤–ï¼Œå­ç»„ä»¶æ— éœ€å£°æ˜æ ¹å…ƒç´ ã€‚\n- ä¼ ç»Ÿçš„ç»„ä»¶option apiï¼Œç°åœ¨å¯ä»¥ç”¨setupæ¥å®ç°ï¼Œä¸ä»…æ¯”ä»¥å‰å˜å¾—æ›´åŠ çµæ´»ï¼Œåœ¨ç±»å‹åˆ†æä¸Šï¼ˆtypescriptï¼‰å°†ä¼šæ”¯æŒå¾—æ›´å¥½\n- å¤§éƒ¨åˆ†apiå¦‚ref/reactive/onMountedç­‰æ–¹æ³•ï¼Œç°åœ¨æ”¯æŒæŒ‰éœ€å¯¼å…¥ï¼Œå¯¹äºtree-shakingä¼˜åŒ–æœ‰åˆ©\n- setupä½¿å¼€å‘è€…ä¸å¿…å†å…³å¿ƒä»¤äººå¤´ç–¼çš„`this`é—®é¢˜\n- setupæ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œå¦‚æœä½ çš„æ€è·¯è¶³å¤Ÿæ¸…æ™°ï¼Œé‚£ä¹ˆå®ƒå°†ä¼šæ˜¯ä½ æŠ½è±¡é€»è¾‘çš„åˆ©å™¨ã€‚åä¹‹ä½¿ç”¨ä¸å½“åŒæ ·ä¹Ÿä¼šè®©ä½ çš„ä»£ç å˜æˆæ„å¤§åˆ©é¢æ¡ğŸ\n- vuex çš„è¾…åŠ©å‡½æ•°å°†åœ¨æœªæ¥ä»¥ `useXXXX` çš„å½¢å¼ å…¼å®¹ setup å‡½æ•°ã€‚\n";
